<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bag Wizard · Valonia</title>

<style>
  :root{
    --bg:#f7f7f9; --ink:#221E1B; --terra:#8C5A45; --rose:#E7BFC2; --line:#eaeaea;

    --rightCol: 420px;
    --gap-logo-title: 44px;     /* aire logo ↔ título */
    --gap-title-options: 16px;  /* título ↔ opciones */

    --desk-gap: 0px;            /* sin hueco entre columnas */
    /* acercar bloque al centro/bolso (más negativo = más cerca) */
    --nudge-left: clamp(-280px, -19vw, -210px);
    /* subir ligeramente el bloque derecho */
    --nudge-top: -18px;

    --m-gap: 22px;              /* separaciones en móvil */
  }

  @font-face{
    font-family:"Didot LP";
    src:url("assets/fonts/DidotLP.woff2") format("woff2");
    font-weight:300 700; font-style:normal; font-display:swap;
  }

  html,body{margin:0;background:var(--bg);color:var(--ink)}
  body{font:15px/1.5 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif}

  .wrap{max-width:1160px;margin:0 auto;padding:0 18px 34px}
  .grid{
    display:grid;
    grid-template-columns:minmax(340px,1fr) var(--rightCol);
    gap:var(--desk-gap);
    align-items:start;
  }

  /* Canvas: ~20% más pequeño para que quepa entero sin scroll */
  .stage{display:flex;justify-content:flex-start;align-items:flex-start}
  #cv{
    display:block;background:transparent;border:none;border-radius:0;
    width:clamp(200px, 21vw, 360px);  /* ↓ antes 26vw/420px */
    height:auto;margin-top:4px;
  }

  /* Bloque derecho compacto, centrado entre sí, más cerca del centro y un poco más arriba */
  .side{
    display:flex;flex-direction:column;align-items:center;text-align:center;
    gap:var(--gap-title-options);
    align-self:center;
    margin-left:var(--nudge-left);   /* hacia el centro/bolso */
    margin-top:var(--nudge-top);     /* un poco más arriba */
  }
  .brand{
    display:flex;flex-direction:column;align-items:center;text-align:center;
    gap:var(--gap-logo-title);
  }
  .brand img{height:130px;object-fit:contain;display:block}
  .brand h1{
    margin:0;
    font-family:"Didot LP","Didot","Bodoni Moda","Playfair Display",Times,serif;
    font-weight:400;font-size:20px;line-height:1.2;letter-spacing:.02em;color:var(--terra);
  }

  .row{display:flex;align-items:center;gap:10px;flex-wrap:wrap;margin:8px 0}
  .lbl{
    font-family:"Didot LP","Didot","Bodoni Moda","Playfair Display",Times,serif;
    font-weight:400;font-size:12px;letter-spacing:.12em;text-transform:uppercase;color:var(--terra)
  }
  select{
    appearance:none;-webkit-appearance:none;background:#fff;
    border:1px solid var(--line);border-radius:12px;padding:6px 28px 6px 10px;font-size:13px
  }
  input[type="color"]{
    width:24px;height:24px;border-radius:50%;
    border:2px solid #efefef;background:#fff;box-shadow:0 1px 0 rgba(0,0,0,.03)
  }
  .row--stitch{display:none}
  .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
  button{cursor:pointer;border-radius:12px;padding:9px 14px;font-weight:600;border:1px solid var(--line);background:var(--rose);color:#5a3a2c}

  /* Formulario limpio */
  .order{max-width:980px;margin:40px auto 0;background:transparent;border:none;padding:0}
  .order h2{
    margin:0 0 20px 0;
    font-family:"Didot LP","Didot","Bodoni Moda","Playfair Display",Times,serif;
    font-weight:400;font-size:18px;letter-spacing:.02em;color:var(--terra)
  }
  .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:26px 30px}
  .order .form-grid>div{display:flex;flex-direction:column;gap:8px}
  .order label{font-size:13px;color:#6c5a4f}
  .order input,.order textarea{
    width:100%;border:1px solid var(--line);border-radius:12px;padding:14px 12px;background:#fff;font-size:14px
  }
  .order textarea{min-height:124px;resize:vertical}
  .small{font-size:12px;color:#7a7a7a}

  /* Móvil: centrado y ordenado por bloques */
  @media (max-width:980px){
    .grid{grid-template-columns:1fr;gap:var(--m-gap);justify-items:center}
    #cv{width:min(92vw,440px)}
    .side{gap:22px;margin-left:0;margin-top:0}
    .brand{gap:26px}
    .order{margin:34px 16px 0}
    .form-grid{grid-template-columns:1fr}
    .order h2{text-align:center}
  }
</style>
</head>
<body>

  <div class="wrap">
    <div class="grid">
      <!-- Izquierda: bolso -->
      <div class="stage">
        <canvas id="cv" width="600" height="800"></canvas>
      </div>

      <!-- Derecha: bloque compacto (logo + título + opciones) -->
      <aside class="side">
        <div class="brand">
          <img src="assets/img/logo-valonia.png" alt="Valonia">
          <h1>Diseña tu Tambour</h1>
        </div>

        <div class="row">
          <span class="lbl">1º cuero · textura</span>
          <select id="texA">
            <option value="smooth">Lisa</option>
            <option value="suede">Ante</option>
          </select>
          <input id="colA" type="color" value="#E7BFC2" aria-label="Color del primer cuero">
        </div>

        <div class="row">
          <span class="lbl">2º cuero · textura</span>
          <select id="texB">
            <option value="smooth">Lisa</option>
            <option value="suede">Ante</option>
          </select>
          <input id="colB" type="color" value="#8C5A45" aria-label="Color del segundo cuero">
        </div>

        <div class="row row--stitch">
          <span class="lbl">Costura (C)</span>
          <input id="stitchColor" type="color" value="#111111">
        </div>

        <div class="actions">
          <button id="dl">Descargar preview</button>
          <input type="hidden" id="spbc_config_json">
        </div>
      </aside>
    </div>

    <!-- Formulario -->
    <section class="order">
      <h2>Datos para tu pedido</h2>
      <form id="orderForm">
        <div class="form-grid">
          <div><label>Nombre y apellidos</label><input name="name" required></div>
          <div><label>Email</label><input name="email" type="email" required></div>
          <div><label>Teléfono</label><input name="phone" type="tel"></div>
          <div><label>Referencia de pedido (opcional)</label><input name="ref"></div>
          <div style="grid-column:1/-1">
            <label>Notas</label>
            <textarea name="notes" placeholder="Color interior, largo de correa, observaciones…"></textarea>
          </div>
          <div style="grid-column:1/-1">
            <label class="small"><input type="checkbox" required> Acepto la política de privacidad y el tratamiento de datos para gestionar este pedido.</label>
          </div>
        </div>
        <div class="actions" style="margin-top:16px">
          <button type="submit" id="orderBtn">Generar PDF del pedido</button>
        </div>
        <p class="small">El PDF incluirá la previsualización del bolso y la configuración elegida.</p>
      </form>
    </section>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/fabric@5.3.0/dist/fabric.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="js/customizer.js"></script>
</body>
</html>